#{extends 'main.html' /}
#{set title:yappRender.person.surname + ' ' + yappRender.person.name + ', matricola=' + yappRender.person.number /}

<h2 id="titoloSituazioneAssenzeAnnuali">Situazione assenze per l'anno ${yappRender.year} di ${yappRender.person.name} ${yappRender.person.surname}</h2>

#{logoutForm /}

#{functionalMenuForm mainMenu: mainMenu /} 

<table id="assenze_annuali">

	<tr>
		<th rowspan="2">Mese</th>
		<th class="giorni"colspan="31">Giorni</th>
		</tr>
		%{
			int i=1;
			while(i<=31){
		}%
		
		<th class="giorni">${i}</th>
		%{
			i++;}
		}%



	%{  
		for(month in yappRender.absenceTable.rowMap()){
	}%
	<tr>
		
		<td class="mese"><span class="capitalized">${yappRender.fromIntToStringMonth( month.getKey() )}</td>
		%{
			for(col in yappRender.absenceTable.columnKeySet()) {   				
		}%
            <td>${month.getValue().get(col)}</td>
        %{
              		
           	}
        }%
	</tr>
	%{
		}
	}%
	
	
	
	
	
</table>

<table id="Codici di assenza">
	<tr>
		<th width="80">Codice assenza</th>
		<th width="200">Descrizione</th>
		<th width="20">Totale giorni</th>			
	</tr>
%{
     for( entry in yappRender.absenceSummary.entrySet() ) {
}%
	<tr>
		<td>${entry.getKey().code}</td>     
		<td>${entry.getKey().description}</td>	
		<td>${entry.getValue()}</td>
	</tr>

%{  		   
     }
     
}%
	<tr>
		<td>TOTALE</td>
		<td></td>
		<td>${yappRender.totalAbsence}</td>
	</tr>
</table>
