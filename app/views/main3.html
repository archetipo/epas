<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" type="image/png" href="@{'/public/favicon.ico'}">

    <title>#{get 'title' /}</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" media="screen" href="@{'/public/bootstrap-3.1.1-dist/css/bootstrap.min.css'}" />
	<link rel="stylesheet" media="screen" href="@{'/public/stylesheets/my-bootstrap3.css'}" />
	<link rel="stylesheet" media="screen" href="@{'/public/font-awesome-4.0.3/css/font-awesome.min.css'}"/>
	<link rel="stylesheet" media="screen" href="@{'/public/bootstrap-datepicker/css/datepicker.css'}"/>
	<link rel="stylesheet" href="@{'/public/morris.js-0.4.3/morris.css'}">
	<link rel="stylesheet" href="@{'/public/feedback-master/feedback.min.css'}" />
    
    <!-- Custom styles for this template -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/x-editable/1.5.0/bootstrap-editable/css/bootstrap-editable.css" rel="stylesheet"/>
       
	#{get 'moreStyles' /}
	
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    
    <!-- All JavaScript at the bottom, except for Modernizr / Respond.
	<!-- Modernizr enables HTML5 elements & feature detects; Respond is a polyfill for min/max-width CSS3 Media Queries -->
	<!-- For optimal performance, use a custom Modernizr build: www.modernizr.com/download/ -->
	<script src="@{'/public/js/libs/modernizr-2.0.6.min.js'}"></script>
    
  </head>

  <body>
  
   <div id="wrapper">

    #{if header.equals('navbar') }
    
    <!-- Fixed navbar -->
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">ePAS
 
          <small class="visible-xs">XS</small>
          <small class="visible-sm">SM</small>
          <small class="visible-md">MD</small>
          <small class="visible-lg">LG</small>

          
          </a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown active">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-user"></span>
          		${session.username} <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="@{Stampings.stampings(session.get("yearSelected"), session.get("monthSelected"))}">Situazione mensile</a></li>
            
            	<li><a href="#">Assenze mensili</a></li>
            	<li><a href="@{YearlyAbsences.absencesPerPerson(session.get("personSelected"), session.get("yearSelected"))}">Assenze annuali</a></li>
            	<li><a href="@{Vacations.show(session.get("personSelected"), session.get("yearSelected"))}">Ferie</a></li>
            	<li><a href="#">Competenze</a></li>
            	<li><a href="#">Riepilogo orario</a></li>
            	<li><a href="@{PersonMonths.trainingHours(session.get("personSelected"), session.get("yearSelected"), session.get("monthSelected"))}">Ore di formazione</a></li>
            	<li class="divider"></li>
            	<li><a href="#">Stampa cartellino presenze</a></li>
            	<li class="divider"></li>
            	<li><a href="@{Persons.changePassword()}">Gestione password</a></li>
              </ul>
            </li>
          </ul>
          
          <ul id="nav-year" class="nav navbar-nav">
       		<li class="dropdown">
          	  <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="badge">${session.get("yearSelected")}</span><b class="caret"></b></a>
          	  <ul class="dropdown-menu">
            	<li><a href="#">2012</a></li>
            	<li><a href="#">2013</a></li>
            	<li><a href="#">2014</a></li>
            	<li><a href="#">2015</a></li>            
          	  </ul>
        	</li>
      	  </ul>
      
      	  <ul id="nav-month" class="nav navbar-nav">
        	<li class="dropdown">
          	  <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="badge">${session.get("monthSelectedName")}</span><b class="caret"></b></a>
          	  <ul class="dropdown-menu">
            	<li><a href="#">Gennaio</a></li>
            	<li><a href="#">Febbraio</a></li>
            	<li><a href="#">Marzo</a></li>
            	<li><a href="#">Aprile</a></li>            
          	  </ul>
        	</li>
      	  </ul>
      	  
      	  #{if session.contains("sudo.username")}
      	  <ul class="nav navbar-nav navbar-right">
      	    <li><a href="@{Administrators.restoreUser()}"><span class="glyphicon glyphicon-log-out"></span> Torna chi eri</a></li>
          </ul>
  		  #{/if}
  		  
  		  #{else}
    	    #{if session.username}
      		  <ul class="nav navbar-nav navbar-right">
      		    #{secure.permissionCheck}
	   	          <li><a href="@{Faq.faq()}"><i class="fa fa-comment-o"></i> FAQ</a></li>
      	        #{/secure.permissionCheck}
    	        <li><a href="#"><span class="glyphicon glyphicon-log-out"></span> Logout</a></li>
    	      </ul>
    	    #{/if}
  		  
  		  #{/else}
      
        </div>
        
      </div>
    </div> <!-- End Fixed navbar -->
    
    #{/if}
    
    #{if header.equals('banner') }
    <!-- Banner -->
	<div id="banner">
      <img class="img-responsive" src="/public/images/time_banner.jpg" alt="alt">
      <img class="img-responsive pull-right hidden-xs" src="/public/images/logo.jpg" alt="alt">
    </div>
	#{/if}
	
    <!-- Begin page content -->
    <div class="container">
       #{if flash.error}
      <div class="panel panel-danger">
      <div class="panel-heading flash-panel">  
        <p class="fError"><strong>${flash.error}</strong></p>
      </div>
      </div>
      #{/if}
      #{if flash.success}
      <div class="panel panel-success">
      <div class="panel-heading flash-panel">  
        <p class="fSuccess"><strong>${flash.success}</strong></p>
      </div>
      </div>
      #{/if}
        #{doLayout /}
    </div>
      
   </div>

   <div id="footer">
     <div class="container">
       <p>Created with <a href="http://www.playframework.org">play framework</a> and really inspired from the "orologio" application developed by Pasquale Lazzareschi</p>
     </div>
   </div>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    
    <script src="@{'/public/bootstrap-3.1.1-dist/js/bootstrap.min.js'}" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/x-editable/1.5.0/bootstrap-editable/js/bootstrap-editable.min.js"></script>
    <script src="@{'/public/bootstrap-datepicker/js/bootstrap-datepicker.js'}" type="text/javascript"></script>
	<script src="@{'/public/morris.js-0.4.3/spec/vendor/raphael-2.1.0.min.js'}"></script>
	<script src="@{'/public/morris.js-0.4.3/morris.min.js'}"></script>
    <script src="@{'/public/feedback-master/feedback.js'}"></script>
    
    <script src="@{'/public/js/script.js'}"></script>
     
    #{include './feedback.html' /}  
	#{get 'moreScripts' /}
  </body>
</html>
