#{extends 'main.html' /}
#{set header:'navbar' /}
#{set title: 'ePAS - Gestioni gruppi'  /}

<div class="container">
	#{title title:'Gestione gruppi', administration:true /}

  <p>
  #{secure.check 'Groups.createGroup'}
  <div class="text-center">
    <a class="btn btn-success" href="@{blank(office.id)}" data-async-modal="#modalInsertBadgeReader">
    <i class="fa fa-user-plus"></i>
      Crea nuovo gruppo</a>
  </div>
  #{/secure.check}
  </p>
  #{if groups.isEmpty()}
     #{alert color:'info'}
     	<p>Al momento non sono definiti gruppi di lavoro per la sede <strong>${office.name}</strong>.
     	Per definirne uno, cliccare sul bottone verde qui sopra.</p>
     #{/alert}
  #{/if}
  
  #{else}
   
  <ul class="list-group">
  #{list items:groups, as:'item'}
   
	<li class="list-group-item list-group-item-grey">
			<div class="pull-right btn-group">
            #{secure.check 'Groups.deleteGroup'}
            <a class="btn btn-sm btn-danger" href="@{Groups.deleteGroup(item.id)}">
              <i class="fa fa-minus"></i> Rimuovi</a>
            #{/secure.check}
          	</div>
	  #{group.item item:item, edit:'true' /}	  
    </li>
    
  #{/list}
  </ul>
  #{/else}

</div>

<div id="modalInsertBadgeReader" class="modal fade container" tabindex="-1"></div>
