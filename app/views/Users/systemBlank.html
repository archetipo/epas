#{modalAsync id:'modalInsertUser', button:'Salva', title:'User.systemBlank' }

<div class="alert alert-info" role="alert">
  Inserisci i dati del nuovo <strong><i class="fa fa-user"></i> &{'user'}</strong>.
</div>

<div id="userData">
		<div id="form-system">
	  
	  	#{form action:@save(), method:'POST', autocomplete:false,
  			class:'form-horizontal', 'data-async':'#userList',
  			'data-async-error':'#userData'}

		#{f.hidden 'systemUser', value:'true' /}
		
		#{f.selectModel 'user.owner', items:templateUtility.officeForBadgeReaders(), required:true /}
  		#{f.input 'user.username' /}
  		#{f.input 'user.password', type:'password' /}
  		 
  		#{f.selectModels 'officeIds', items:templateUtility.officesAllowed(), 
  		    value:offices, placeholder:'Tutti gli uffici' /}

		#{f.selectModels 'roleIds', items:templateUtility.allSystemRoles(), 
		    value:roles , placeholder:'Tutti i ruoli di sistema' /}

  		#{b.buttons center:true}
    		#{b.cancel @index() /}
    		#{b.save /}
  		#{/b.buttons}
  		#{/form}
   	  </div>
   	   #{alert color:'info'}
  		<p>
    		<strong>Note:</strong> Soltanto gli amministratori tecnici della sede resposabile potranno
    		gestire questo &{'user'}, fra cui la modifica delle credenziali di accesso.
  		</p>
  	   #{/alert}
</div>
#{/modalAsync}
   	  