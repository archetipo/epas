[
  	#{list shiftPeriods, as:'shiftPeriod'}
  	
  	%{
  		if(shiftPeriod.cancelled == false) {
  	}%
  			{
  			"id" : ${shiftPeriod.person.id},
  			"start" : "${shiftPeriod.start}",
  			"end" : "${shiftPeriod.end}",
  			"cancelled": "${shiftPeriod.cancelled}",
  			"shiftSlot": "${shiftPeriod.shiftSlot.getName()}",
  			"ttStart": "${shiftPeriod.startSlot}",
  			"ttEnd": "${shiftPeriod.startSlot}"
  			}${shiftPeriod_isLast ? '' : ','}
  	%{
  		} else {
  	}%
  			{
  			"start" : "${shiftPeriod.start}",
  			"end" : "${shiftPeriod.end}",
  			"cancelled": "${shiftPeriod.cancelled}"
  			}${shiftPeriod_isLast ? '' : ','}  	
	 %{ 
	 	}
	 }%	
  	#{/list}
]