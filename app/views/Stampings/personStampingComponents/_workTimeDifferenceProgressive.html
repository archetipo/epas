

<td class="tempoLavoro default-single">
   #{if dayRecap.personDay.past || dayRecap.personDay.today}
      
      
      <!-- info tempo lavorato (i) -->
      #{if !dayRecap.workTimeExplanation.empty}
	      <div class="text-primary" popover-hover
	         data-html="true"
	         data-content="${(dayRecap.workTimeExplanation).escape()}"
	         title="<strong>Riepilogo Tempo a lavoro </strong>#{if dayRecap.personDay.isConsideredExitingNow}<br><br> <em>Stima calcolata considerando l'uscita in questo momento</em> #{/if}">
	         #{if dayRecap.personDay.isConsideredExitingNow}
	           <em>${dayRecap.personDay.timeAtWork.printHourMinute()}</em>
	         #{/if}
	         #{else}
	           ${dayRecap.personDay.timeAtWork.printHourMinute()}
	         #{/else}
	         
	      </div>
      #{/if}
      #{else}
        ${dayRecap.personDay.timeAtWork.printHourMinute()}
      #{/else}

	  <!-- marcatori -->
      #{ifnot dayRecap.todayLunchTimeCode.equals("")}
      <strong>${dayRecap.todayLunchTimeCode}</strong>
      #{/ifnot}
      #{ifnot dayRecap.fixedWorkingTimeCode.equals("")}
      <strong>${dayRecap.fixedWorkingTimeCode}</strong>
      #{/ifnot}
      #{ifnot dayRecap.exitingNowCode.equals("")}
      <strong>${dayRecap.exitingNowCode}</strong>
      #{/ifnot}
	  
	  	
      <!-- toggle holidayWork-->
      #{if showLink}
	      #{if dayRecap.personDay.isHoliday && dayRecap.personDay.timeAtWork > 0 }
		      #{if dayRecap.personDay.acceptedHolidayWorkingTime }
		      <a href="@{Stampings.toggleWorkingHoliday(dayRecap.personDay.id)}">Disabilita</a>
		      #{/if}
		      #{else}
		      <a href="@{Stampings.toggleWorkingHoliday(dayRecap.personDay.id)}">Abilita</a>
		      #{/else}
	      #{/if}
      #{/if}
      
   #{/if}
      
     

</td>

	<!-- difference -->
	<!-- colore test cella... -->
    #{if dayRecap.personDay.difference < 0}
      <td class="differenza  default-single" style="color: red;">
    #{/if}
    #{else}
      <td class="differenza default-single">
    #{/else}
    <!-- valore ... -->
    #{if dayRecap.personDay.past || dayRecap.personDay.today}
      ${dayRecap.personDay.difference.printHourMinute()}
    #{/if}
    #{else}
      *{ ${0.printHourMinute()} }* 
    #{/else}
    </td>
    
    <!-- progressive -->
    <!-- colore test cella... -->
    #{if dayRecap.personDay.progressive < 0}
    <td class="progressivo default-single" style="color: red;">
    #{/if}
    #{else}
    <td class="progressivo default-single">
    #{/else}
    <!-- valore ... -->
    #{if dayRecap.personDay.past || dayRecap.personDay.today}
      ${dayRecap.personDay.progressive.printHourMinute()}
    #{/if}
    #{else}
      *{ ${0.printHourMinute()} }*
    #{/else}
