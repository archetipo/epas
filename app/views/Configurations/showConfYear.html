#{extends 'main3.html' /}
#{set header:'navbar' /}
#{set title: 'ePAS - Parametri di configurazione' /}

<ul class="nav nav-tabs">
  <li><a href="@{Configurations.showConfGeneral()}#">Parametri Generali</a></li>
  <li class="active"><a href="@{Configurations.showConfYear()}#">Parametri Annuali</a></li>
</ul>

<div class="container">
  <br>
  <div class="center">
	  #{form action:@Configurations.showConfYear(), role:'form', class:'form-inline', 
	    method:'GET', autocomplete:'off',
	    'data-reload':'#results'}
	    
	       <div class="form-group">
	        <label class="hidden-xs hidden-sm" for="dip">Sede </label>
	        <select name="officeId" class="form-control" id="dip" >
	            #{list items:offices, as:'officeItem'}
	              <option value="${officeItem.id}" #{if officeItem.id.equals(office.id) } selected="selected" #{/if} >
	                ${officeItem.name}
	              </option>
	            #{/list}
	        </select>
	      </div>
	       
	      <button type="submit" class="btn btn-default">Invio</button>
	  #{/form}
  </div>
  <br>



  <section id="results">

	 <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Parametri ${previousYear}</h3>
      </div>
      <div class="panel-body">
		 <table class="table table-condensed table-hover table-xeditable">
		  <tr>
		    <td class="span5">Giorno massimo utilizzo ferie dell'anno precedente</td>
		    <td class="span2">${lastYearDayExpiryVacationPastYear.fieldValue} / ${lastYearMonthExpiryVacationPastYear.fieldValue}</td>
		  </tr>						
		  <tr>
		    <td class="span5">Limite utilizzo residui dell'anno precedente per i livelli da 1 a 3</td>
		    <td class="span2">${lastYearMonthExpireRecoveryDaysOneThree.getIntelligibleMonthValue()}</td>
		  </tr>						
		  <tr>
		    <td class="span5">Limite utilizzo residui dell'anno precedente per i livelli da 4 a 9</td>
		    <td class="span2">${lastYearMonthExpireRecoveryDaysFourNine.getIntelligibleMonthValue()}</td>
		  </tr>						
		  <tr>	
		    <td class="span5">Numero massimo di giorni di recupero in un anno per i livelli da 1 a 3</td>
		    <td class="span2">${lastYearMaxRecoveryDaysOneThree.getIntelligibleNumberValue()}</td>
		  </tr>						
		  <tr>
		    <td class="span5">Numero massimo di giorni di recupero in un anno per i livelli da 4 a 9</td>
		    <td class="span2">${lastYearMaxRecoveryDaysFourNine.getIntelligibleNumberValue()}</td>
		  </tr>	
		  <tr>
		    <td class="span5">Limite orario massimo per timbratura notturna</td>
		    <td class="span2">${lastYearHourMaxToCalculateWorkTime.fieldValue}:00</td>
		  </tr>					
		
		</table>
	
	  </div>
    </div>

	<div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Parametri ${currentYear}</h3>
      </div>
      <div class="panel-body">
		 <table class="table table-condensed table-hover table-xeditable">
		  <tr>
		    <td class="col-sm-6">Giorno massimo utilizzo ferie dell'anno precedente</td>
		    <td class="col-sm-6">
		     <a href="#"
		           data-x-editable 
		           data-type="combodate"
		           data-name="${currentYear}"
		           data-viewformat="DD MMMM"  
		           data-format="DD/MM"
		           data-template="DD MMMM"
		           data-pk="${office.id}"
		           data-value="${dayExpiryVacationPastYear?.fieldValue} ${monthExpiryVacationPastYear?.fieldValue}"
		           data-url="@{savePastYearVacationLimit()}">
		     </a>
		    </td>
		  </tr>					
		  <tr>
		    <td class="col-sm-6">Limite utilizzo residui dell'anno precedente per i livelli da 1 a 3</td>
		    <td class="col-sm-6">
		      <a href="#" 
		          id="select3" 
		          data-type="select" 
		          data-pk="${monthExpireRecoveryDaysOneThree.id}" 
		          data-value="[${monthExpireRecoveryDaysOneThree.fieldValue}]"
		          data-source="[{ 1 : 'entro fine gennaio'}, { 2 : 'entro fine febbraio'}, { 3 : 'entro fine marzo'}, { 4 : 'entro fine aprile'}, { 5 : 'entro fine maggio'}, { 6 : 'entro fine giugno'}, { 7 : 'entro fine luglio'}, { 8 : 'entro fine agosto'}, { 9 : 'entro fine settembre'}, { 10 : 'entro fine ottobre'}, { 11 : 'entro fine novembre'}, { 12 : 'entro fine dicembre'}, { 0 : 'nessun limite'}]" 
		          data-url="@{saveConfYear()}" 
		          class="editable editable-click"></a>
		    </td>
		  </tr>						
		  <tr>
		    <td class="col-sm-6">Limite utilizzo residui dell'anno precedente per i livelli da 4 a 9</td>
		    <td class="col-sm-6">
		      <a href="#" 
		          id="select4" 
		          data-type="select" 
		          data-pk="${monthExpireRecoveryDaysFourNine.id}" 
		          data-value="[${monthExpireRecoveryDaysFourNine.fieldValue}]"
		          data-source="[{ 1 : 'entro fine gennaio'}, { 2 : 'entro fine febbraio'}, { 3 : 'entro fine marzo'}, { 4 : 'entro fine aprile'}, { 5 : 'entro fine maggio'}, { 6 : 'entro fine giugno'}, { 7 : 'entro fine luglio'}, { 8 : 'entro fine agosto'}, { 9 : 'entro fine settembre'}, { 10 : 'entro fine ottobre'}, { 11 : 'entro fine novembre'}, { 12 : 'entro fine dicembre'}, { 0 : 'nessun limite'}]" 
		          data-url="@{saveConfYear()}" 
		          class="editable editable-click"></a>
		    </td>
		  </tr>						
		  <tr>	
		    <td class="col-sm-6">Numero massimo di giorni di recupero in un anno per i livelli da 1 a 3</td>
		    <td class="col-sm-6">
		      <a href="#" 
		          id="select5" 
		          data-type="select" 
		          data-pk="${maxRecoveryDaysOneThree.id}" 
		          data-value="[${maxRecoveryDaysOneThree.fieldValue}]"
		          data-source="[{ 1 : '1'}, { 2 : '2'}, { 3 : '3'}, { 4 : '4'}, { 5 : '5'}, { 6 : '6'}, { 7 : '7'}, { 8 : '8'}, { 9 : '9'}, { 10 : '10'}, { 11 : '11'}, { 12 : '12'}, { 13 : '13'}, { 14 : '14'}, { 15 : '15'}, { 16 : '16'}, { 17 : '17'}, { 18 : '18'}, { 19 : '19'}, { 20 : '20'}, { 21 : '21'}, { 22 : '22'}, { 23 : '23'}, { 24 : '24'}, { 25 : '25'}, { 26 : '26'}, { 27 : '27'}, { 28 : '28'}, { 29 : '29'}, { 30 : '30'}, { 0: 'nessun limite'}]" 
		          data-url="@{saveConfYear()}" 
		          class="editable editable-click"></a>
		    
		    
		    </td>
		  </tr>						
		  <tr>
		    <td class="col-sm-6">Numero massimo di giorni di recupero in un anno per i livelli da 4 a 9</td>
		    <td class="col-sm-6">
		      <a href="#" 
		          id="select6" 
		          data-type="select" 
		          data-pk="${maxRecoveryDaysFourNine.id}" 
		          data-value="[${maxRecoveryDaysFourNine.fieldValue}]"
		          data-source="[{ 1 : '1'}, { 2 : '2'}, { 3 : '3'}, { 4 : '4'}, { 5 : '5'}, { 6 : '6'}, { 7 : '7'}, { 8 : '8'}, { 9 : '9'}, { 10 : '10'}, { 11 : '11'}, { 12 : '12'}, { 13 : '13'}, { 14 : '14'}, { 15 : '15'}, { 16 : '16'}, { 17 : '17'}, { 18 : '18'}, { 19 : '19'}, { 20 : '20'}, { 21 : '21'}, { 22 : '22'}, { 23 : '23'}, { 24 : '24'}, { 25 : '25'}, { 26 : '26'}, { 27 : '27'}, { 28 : '28'}, { 29 : '29'}, { 30 : '30'}, { 0: 'nessun limite'}]" 
		          data-url="@{saveConfYear()}" 
		          class="editable editable-click"></a>
		    </td>
		      
		  </tr>	
		  
		  <tr>
		    <td class="col-sm-6">Limite orario massimo per timbratura notturna</td>
		    <td class="col-sm-6">${hourMaxToCalculateWorkTime.fieldValue}:00</td>
		  </tr>							
		
		</table>
	
	</div>
  </div>
  
  </section>

</div>


#{include '_myModal.html' /}







