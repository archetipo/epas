#{extends 'main3.html' /}
#{set header:'navbar' /}
#{set title: 'ePAS - Parametri di configurazione' /}

<ul class="nav nav-tabs">
  <li><a href="@{Configurations.showConfGeneral()}#">Parametri Generali</a></li>
  <li class="active"><a href="@{Configurations.showConfYear()}#">Parametri Annuali</a></li>
</ul>

<div class="container">
  <br>
  <div class="center">
	  #{form action:@Configurations.showConfYear(), role:'form', class:'form-inline', 
	    method:'GET', autocomplete:'off',
	    'data-reload':'#results'}
	    
	       <div class="form-group">
	        <label class="hidden-xs hidden-sm" for="dip">Sede </label>
	        <select name="officeId" class="form-control" id="dip" >
	            #{list items:offices, as:'officeItem'}
	              <option value="${officeItem.id}" #{if officeItem.id.equals(office.id) } selected="selected" #{/if} >
	                ${officeItem.name}
	              </option>
	            #{/list}
	        </select>
	      </div>
	       
	      <button type="submit" class="btn btn-default">Invio</button>
	  #{/form}
  </div>
  <br>



  <section id="results">

	#{if lastConfYear != null }
	  <div class="container">
		<h3>${lastConfYear.year}</h3>
		<table class="table table-bordered table-striped span7">
		  <tr>
		    <td class="span5">Giorno massimo utilizzo ferie dell'anno precedente</td>
		    <td class="span2">${lastYearDayExpiryVacationPastYear} / ${lastYearMonthExpiryVacationPastYear}</td>
		  </tr>						
		  <tr>
		    <td class="span5">Limite utilizzo residui dell'anno precedente per i livelli da 1 a 3</td>
		    <td class="span2">${lastConfYear.getIntelligibleMonthValue(lastYearMonthExpireRecoveryDaysOneThree)}</td>
		  </tr>						
		  <tr>
		    <td class="span5">Limite utilizzo residui dell'anno precedente per i livelli da 4 a 9</td>
		    <td class="span2">${lastConfYear.getIntelligibleMonthValue(lastYearMonthExpireRecoveryDaysFourNine)}</td>
		  </tr>						
		  <tr>	
		    <td class="span5">Numero massimo di giorni di recupero in un anno per i livelli da 1 a 3</td>
		    <td class="span2">${lastConfYear.getIntelligibleNumberValue(lastYearMaxRecoveryDaysOneThree)}</td>
		  </tr>						
		  <tr>
		    <td class="span5">Numero massimo di giorni di recupero in un anno per i livelli da 4 a 9</td>
		    <td class="span2">${lastConfYear.getIntelligibleNumberValue(lastYearMaxRecoveryDaysFourNine)}</td>
		  </tr>	
		  <tr>
		    <td class="span5">Limite orario massimo per timbratura notturna</td>
		    <td class="span2">${lastYearHourMaxToCalculateWorkTime}:00</td>
		  </tr>					
		
		</table>
	  </div>
	#{/if}

	<div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Parametri ${year}</h3>
      </div>
      <div class="panel-body">
		 <table class="table table-condensed table-hover table-xeditable">
		  <tr>
		    <td class="col-sm-6">Giorno massimo utilizzo ferie dell'anno precedente</td>
		    <td class="col-sm-6">
		       <a href="#" 
		          id="select1" 
		          data-type="select" 
		          data-pk="${dayExpiryVacationPastYear.id}" 
		          data-value="[${dayExpiryVacationPastYear.fieldValue}]"
		          data-source="[{ 1 : '1'}, { 2 : '2'}, { 3 : '3'}, { 4 : '4'}, { 5 : '5'}, { 6 : '6'}, { 7 : '7'}, { 8 : '8'}, { 9 : '9'}, { 10 : '10'}, { 11 : '11'}, { 12 : '12'}, { 13 : '13'}, { 14 : '14'}, { 15 : '15'}, { 16 : '16'}, { 17 : '17'}, { 18 : '18'}, { 19 : '19'}, { 20 : '20'}, { 21 : '21'}, { 22 : '22'}, { 23 : '23'}, { 24 : '24'}, { 25 : '25'}, { 26 : '26'}, { 27 : '27'}, { 28 : '28'}, { 29 : '29'}, { 30 : '30'}, { 31 : '31'}]" 
		          data-url="@{saveConfYear()}" 
		          class="editable editable-click"></a>
		        <a href="#" 
		          id="select2" 
		          data-type="select" 
		          data-pk="${monthExpiryVacationPastYear.id}" 
		          data-value="[${monthExpiryVacationPastYear.fieldValue}]"
		          data-source="[{ 1 : 'gennaio'}, { 2 : 'febbraio'}, { 3 : 'marzo'}, { 4 : 'aprile'}, { 5 : 'maggio'}, { 6 : 'giugno'}, { 7 : 'luglio'}, { 8 : 'agosto'}, { 9 : 'settembre'}, { 10 : 'ottobre'}, { 11 : 'novembre'}, { 12 : 'dicembre'}]" 
		          data-url="@{saveConfYear()}" 
		          class="editable editable-click"></a>
		    </td>
		  </tr>					
		  <tr>
		    <td class="col-sm-6">Limite utilizzo residui dell'anno precedente per i livelli da 1 a 3</td>
		    <td class="col-sm-6">
		      <a href="#" 
		          id="select3" 
		          data-type="select" 
		          data-pk="${monthExpireRecoveryDaysOneThree.id}" 
		          data-value="[${monthExpireRecoveryDaysOneThree.fieldValue}]"
		          data-source="[{ 1 : 'entro gennaio'}, { 2 : 'entro febbraio'}, { 3 : 'entro marzo'}, { 4 : 'entro aprile'}, { 5 : 'entro maggio'}, { 6 : 'entro giugno'}, { 7 : 'entro luglio'}, { 8 : 'entro agosto'}, { 9 : 'entro settembre'}, { 10 : 'entro ottobre'}, { 11 : 'entro novembre'}, { 12 : 'entro dicembre'}, { 0 : 'nessun limite'}]" 
		          data-url="@{saveConfYear()}" 
		          class="editable editable-click"></a>
		    </td>
		  </tr>						
		  <tr>
		    <td class="col-sm-6">Limite utilizzo residui dell'anno precedente per i livelli da 4 a 9</td>
		    <td class="col-sm-6">
		      <a href="#" 
		          id="select4" 
		          data-type="select" 
		          data-pk="${monthExpireRecoveryDaysFourNine.id}" 
		          data-value="[${monthExpireRecoveryDaysFourNine.fieldValue}]"
		          data-source="[{ 1 : 'entro gennaio'}, { 2 : 'entro febbraio'}, { 3 : 'entro marzo'}, { 4 : 'entro aprile'}, { 5 : 'entro maggio'}, { 6 : 'entro giugno'}, { 7 : 'entro luglio'}, { 8 : 'entro agosto'}, { 9 : 'entro settembre'}, { 10 : 'entro ottobre'}, { 11 : 'entro novembre'}, { 12 : 'entro dicembre'}, { 0 : 'nessun limite'}]" 
		          data-url="@{saveConfYear()}" 
		          class="editable editable-click"></a>
		    </td>
		  </tr>						
		  <tr>	
		    <td class="col-sm-6">Numero massimo di giorni di recupero in un anno per i livelli da 1 a 3</td>
		    <td class="col-sm-6">
		      <a href="#" 
		          id="select5" 
		          data-type="select" 
		          data-pk="${maxRecoveryDaysOneThree.id}" 
		          data-value="[${maxRecoveryDaysOneThree.fieldValue}]"
		          data-source="[{ 1 : '1'}, { 2 : '2'}, { 3 : '3'}, { 4 : '4'}, { 5 : '5'}, { 6 : '6'}, { 7 : '7'}, { 8 : '8'}, { 9 : '9'}, { 10 : '10'}, { 11 : '11'}, { 12 : '12'}, { 13 : '13'}, { 14 : '14'}, { 15 : '15'}, { 16 : '16'}, { 17 : '17'}, { 18 : '18'}, { 19 : '19'}, { 20 : '20'}, { 21 : '21'}, { 22 : '22'}, { 23 : '23'}, { 24 : '24'}, { 25 : '25'}, { 26 : '26'}, { 27 : '27'}, { 28 : '28'}, { 29 : '29'}, { 30 : '30'}, { 0: 'nessun limite'}]" 
		          data-url="@{saveConfYear()}" 
		          class="editable editable-click"></a>
		    
		    
		    </td>
		  </tr>						
		  <tr>
		    <td class="col-sm-6">Numero massimo di giorni di recupero in un anno per i livelli da 4 a 9</td>
		    <td class="col-sm-6">
		      <a href="#" 
		          id="select6" 
		          data-type="select" 
		          data-pk="${maxRecoveryDaysFourNine.id}" 
		          data-value="[${maxRecoveryDaysFourNine.fieldValue}]"
		          data-source="[{ 1 : '1'}, { 2 : '2'}, { 3 : '3'}, { 4 : '4'}, { 5 : '5'}, { 6 : '6'}, { 7 : '7'}, { 8 : '8'}, { 9 : '9'}, { 10 : '10'}, { 11 : '11'}, { 12 : '12'}, { 13 : '13'}, { 14 : '14'}, { 15 : '15'}, { 16 : '16'}, { 17 : '17'}, { 18 : '18'}, { 19 : '19'}, { 20 : '20'}, { 21 : '21'}, { 22 : '22'}, { 23 : '23'}, { 24 : '24'}, { 25 : '25'}, { 26 : '26'}, { 27 : '27'}, { 28 : '28'}, { 29 : '29'}, { 30 : '30'}, { 0: 'nessun limite'}]" 
		          data-url="@{saveConfYear()}" 
		          class="editable editable-click"></a>
		    </td>
		      
		  </tr>	
		  
		  <tr>
		    <td class="col-sm-6">Limite orario massimo per timbratura notturna</td>
		    <td class="col-sm-6">${hourMaxToCalculateWorkTime.fieldValue}:00</td>
		  </tr>							
		
		</table>
	
	</div>
  </div>
  
  </section>

 <a data-toggle="modal" href="@{Configurations.insertNewConfYear(officeId)}" data-target="#myModal3">
 Inserisci configurazione ${nextYear}
 </a>


</div>

<div class="modal fade" id="myModal3" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-center">
    
    <div class="modal-content">
             
    </div><!-- /.modal-content -->
           
    
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->






