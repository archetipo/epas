#{extends 'main.html' /}
#{set title:yearRecap.person.surname + ' ' + yearRecap.person.name + ', matricola=' + yearRecap.person.number /}


<h2 id="titoloSituazioneFerie">Situazione ferie ${yearRecap.year}</h2>

<div id="logout">
#{form @Application.logout()}
	
    	<input type="submit" value="Account logout" />
     

#{/form}
</div>

<div id="chooseView">
#{form @SwitchTemplate.dispatch()}

#{select 'menuItem', value:menuItem}
	#{option 'yearlyAbsences'}Assenze Annuali#{/option}
	#{option 'absences'}Assenze Mensili#{/option}
	#{option 'stampings'}Timbrature#{/option}
	#{option 'vacations'}Ferie#{/option}	
	#{option 'competences'}Competenze e Straordinari#{/option}
#{/select}
    	<input type="submit" value="go!" />
     

#{/form}
</div>

<div align="left">
#{form @Vacations.show()}

#{select 'year', value:yearRecap.year, id:'anno'}
	#{option 2011}2011#{/option}
	#{option 2012}2012#{/option}
	#{option 2013}2013#{/option}
#{/select}

	
		<input type="submit" value="Submit">
#{/form}

<table id="ferie">
	<tr>
		<th colspan=2 class="ferieFatte">Ferie fatte</th>
		<th rowspan=3>Permessi legge 937/77 fatti</th>
		<th colspan=5 class="residuo">Residuo</th>
	</tr>
	<tr>
		<th rowspan=2>${yearRecap.year-1} anno precedente</th>
		<th rowspan=2>${yearRecap.year} anno richiesto</th>
		<th rowspan=2>ferie ${yearRecap.year-1}</th>
		<th colspan=2>ferie ${yearRecap.year}</th>
		<th colspan=2>permessi</th>
	</tr>
	<tr>
		<th>tot.</th>
		<th>mat.</th>
		<th>tot.</th>
		<th>mat.</th>
	</tr>
	<tr>
	
		<td><a href="vacations.html" class="example3demo">${yearRecap.vacationDaysLastYear(yearRecap.year)}</a> 
				<script type="text/javascript"> 
				$('.example3demo').popupWindow({ 
					height:500, 
					width:800, 
					top:50, 
					left:50 
				}); 
				</script></td>
		<td><a href="vacationsCurrentYear.html" class="example3demo">${yearRecap.vacationDaysCurrentYear(yearRecap.year)}</a> 
				<script type="text/javascript"> 
				$('.example3demo').popupWindow({ 
					height:500, 
					width:800, 
					top:50, 
					left:50 
				});  
				</script></td>
		<td>${yearRecap.personalPermissionUsed()}</td>
		<td>${yearRecap.vacationLastYearNotYetUsed(yearRecap.year)}</td>
		<td>${yearRecap.personalVacationDays()}</td>
		<td>${yearRecap.vacationCurrentYear(yearRecap.year)}</td>
		<td>${yearRecap.personalPermission()}</td>
		<td>${yearRecap.permissionCurrentYear(yearRecap.year)}</td>
	</tr>

</table>

<div>
<p><h4>I residui di ferie e permessi per l'anno in corso sono indicati su 2 colonne:</h4></p>
<p><b>tot.</b>: Giorni residui totali di ferie o permessi</p>
<p><b>mat.</b>: Giorni di ferie o permesso maturati fino ad oggi</p>


</div>