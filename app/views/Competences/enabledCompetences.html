#{extends 'main3.html' /}
#{set header:'navbar' /}
#{set title: 'ePAS - Abilita competenze'  /}

#{competences.competencesTabs activeAction:'enabledCompetences' /}

<div class="container">

  #{alert color:'info'}
  <p>Cliccando sul nome del dipendente è possibile attivare o disattivare la possibilità di attribuire ogni specifica competenza.</p>
  #{/alert}

  <table class="table table-condensed table-hover table-bordered center" datatable >
		<thead>
		<tr>
			<th>Nome</th>
			#{list tableRecapCompetence.columnKeySet()}
			<th>${_}</th>
			#{/list}
		</tr>
		</thead>
		<tbody>

	#{list tableRecapCompetence.rowMap().entrySet(),as:'entry'}
	<tr>
		<td>
		  <a href="@{Competences.updatePersonCompetence(entry.getKey().id)}" data-async-modal="#updateCompetenceModal">
		    ${entry.getKey().name} ${entry.getKey().surname}
		  </a>
		</td>
		#{list tableRecapCompetence.columnKeySet(),as:'col'}
			<td>	
				#{if entry.getValue().get(col) == true}<span class="glyphicon glyphicon-ok"></span>#{/if}
			</td>
		#{/list}
	</tr>	
	#{/list}
		</tbody>
  </table>

</div>

<div id="updateCompetenceModal" class="modal container" tabindex="-1"></div>


