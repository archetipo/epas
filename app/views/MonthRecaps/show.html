#{extends 'main.html' /}

#{logoutForm /}

#{functionalMenuForm mainMenu: mainMenu /} 

<h3 id="riepilogoMensile">Riepilogo Mensile <span class="capitalized">&{'views.tags.display.date.month.' + today.getMonthOfYear()}</span> ${today.getYear()}</h3>

<p id="numeroGiorniLavorativi">Numero di giorni lavorativi: ${numberOfWorkingDays}</p>
  <table>
	<tr>
		<th>Nome</th>
		%{  for(col in tableMonthRecap.columnKeySet()){
		}%
		<th>${col}</th>
	%{
		}
	}%
	</tr>
	
	%{  for(entry in tableMonthRecap.rowMap().entrySet()){
		}%
	<tr>
		<td>${entry.getKey().name} ${entry.getKey().surname}</td>
		%{ for(col in tableMonthRecap.columnKeySet()){
			if(col.equals('Differenza ore (Residuo a fine mese)') || col.equals('Ore di lavoro fatte')){
		}%
			<td>${entry.getValue().get(col).toHourTime()}</td>
		%{
		   }else{
		}%
			<td>${entry.getValue().get(col)}</td>
		%{
		   }
		  }
		}%
	</tr>	
	%{
		}
	}%	
</table>
