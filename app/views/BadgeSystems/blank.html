#{modalAsync id:'modalInsertInstitute', button:'Salva', title:'BadgeSystem.blank' }

<div class="alert alert-info" role="alert">
  Inserisci i dati del nuovo <strong><i class="fa fa-credit-card"></i> &{'badgeSystem'}</strong>.
</div>

<div id="badgeSystemData">

  #{form action:@save(), method:'POST', autocomplete:false,
  class:'form form-horizontal', 'data-async':'#badgeSystemList',
  'data-async-error':'#badgeSystemData'}

  #{f.input 'badgeSystem.name', required:true /}
  #{f.input 'badgeSystem.description' /}
  
  #{f.selectModel 'badgeSystem.office', items:templateUtility.officeForBadgeReaders(), required:true /}

  #{b.buttons center:true}
    #{b.cancel @index() /}
    #{b.save /}
  #{/b.buttons}

  #{/form}

</div>

*{
#{if institute.seats.empty}
#{secure.checkAction 'Institutes.delete'}
#{accordionGroup 'delete'}
#{accordionItem 'deleteItem', parent:'delete', title:'Eliminare questo istituto', open:false, color:'danger'}

<div class="text-danger center">
  E' possibile eliminare <strong>${institute.name}</strong> poich√® non ha alcuna sede associata
  inserita.<br><br>
  <a class="btn btn-danger" href=@{delete(institute.id)}><i class="fa fa-trash"></i>Elimina</a>
</div>

#{/accordionItem}
#{/accordionGroup }
#{/secure.checkAction}
#{/if}
}*

#{/modalAsync}
