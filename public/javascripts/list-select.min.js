$(document).ready(function(){$("div.list-group[data-select]").each(function(){var g=$(this);var f=$("<input>").addClass("form-control").attr("type","text");var e=$("<div>").addClass("input-group").append($("<span>").addClass("input-group-addon").append($("<i>").addClass("glyphicon glyphicon-search"))).append(f);var d=$("<button>").attr("type","button").addClass("btn btn-default").text("Select All");var h=$("<button>").attr("type","button").addClass("btn btn-default").text("Select None");var c=$("<div>").addClass("btn-group pull-right").attr("role","group");c.append(d).append(h);var i=$("<div>").addClass("row data-select-bar");var b=$("<div>").addClass("col-xs-6");var a=$("<div>").addClass("col-xs-6");i.append(b.append(e)).append(a.append(c));i.insertBefore(g);g.find("a").each(function(){$(this).click(function(){if($(this).hasClass("list-group-item-info")){$(this).unselectElement()}else{$(this).selectElement()}})});d.click(function(){g.find("a").each(function(){if(!$(this).hasClass("list-group-item-info")){$(this).selectElement()}})});h.click(function(){g.find("a").each(function(){if($(this).hasClass("list-group-item-info")){$(this).unselectElement()}})});$.fn.selectElement=function(){$(this).addClass("list-group-item-info");var j=$("<input>").attr("name",g.attr("data-select")).attr("type","hidden").attr("value",$(this).attr("data-value"));j.insertAfter($(this))};$.fn.unselectElement=function(){$(this).removeClass("list-group-item-info");$("input[value="+$(this).attr("data-value")+"]").remove()};$(this).addClass("list-group-item-info");f.bind("change keyup",function(){var j=$(this).val().trim();var k=new RegExp(j,"gi");var l=0;g.find("a").each(function(){if(!$(this).hasClass("list-group-item-info")){if($(this).text().match(k)!==null){l++;$(this).show()}else{$(this).hide()}}});if(l==0){$("div.alert").each(function(){$(this).remove()});$("<div>").addClass("alert alert-warning").attr("role","alert").append("<p>").addClass("text-center").text("Nessuna occorrenza rilevata").insertAfter(g)}else{$("div.alert").each(function(){$(this).remove()})}})})});